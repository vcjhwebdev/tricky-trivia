var questions = {
  animal: {
    easy: [
      {
        text: 'What type of animal is a cheetah?',
        options: [
          'Cat',
          'Dog',
          'Lizard'
        ],
        answer: 'Cat'
      },
      {
        text: 'How many legs does a standard dog have?',
        options: [
          '2',
          '3',
          '4'
        ],
        answer: '4'
      },
      {
        text: "Which bird is known for imitating sounds of humans?",
        options: [
          'Chicken',
          'Parrot',
          'Duck'
        ],
        answer: 'Parrot'
      },
      {
        text: "Which bear has white fur and lives in the Artic?",
        options: [
          'Polar Bear',
          'Grizzly Bear',
          'Black Bear'
        ],
        answer: 'Polar Bear'

      },
      {
        text: "How do fish breathe underwater?",
        options: [
          'Mouth',
          'Gills',
          "They Don't"
        ],
        answer: 'Gills'
    },
      {
        text: "What is a male chicken called?",
        options: [
          'Chicken',
          'Hen',
          "Rooster"
        ],
        answer: 'Gills'
    },
      {
        text: "Which of these dogs has spots?",
        options: [
          'Dalmatian',
          'Golden Retriever',
          "German Shepherd"
        ],
        answer: 'Gills'
    }
    ],
    medium: [
      {
        text: "What color are a zebra's stripes?",
        options: [
          'White',
          'Black',
          'Both'
        ],
        answer: 'White'
      },
      {
        text: 'How many times may a salamander regrow its tail?',
        options: [
          '1',
          '10',
          'Infinite'
        ],
        answer: 'Infinite'
      },
      {
        text: 'A dove is the universal symbol for what?',
        options: [
          'Music and Dance',
          'Love and Peace',
          'Laughter and Trust'
        ],
        answer: 'Love and Peace'
      },
      {
        text: "What do otters use to open clams?",
        options: [
          'Rocks',
          'Seashells',
          'Seaweed'
        ],
        answer: 'Rocks'
      },
      {
        text: "Where do monarch butterflies fly in the winter?",
        options: [
          'West',
          'South',
          'East'
        ],
        answer: 'South'
      },
      {
        text: "Which of these is a mammal that lays eggs?",
        options: [
          'Clownfish',
          'Chicken',
          "Platypus"
        ],
        answer: 'Gills'
     },
      {
         text: "Which of these burds can reach the fastest speed?",
         options: [
           'Bald Eagle',
           'Perigrine Falcon',
           "Horned Sungem"
         ],
         answer: 'Perigrine Falcon'
    }
    ],
    hard: [
      {
        text: "What color is a giraffe's tongue?",
        options: [
          'Red',
          'Black',
          'Blue'
        ],
        answer: 'Blue'
      },
      {
        text: 'Which bird has the largest wingspan?',
        options: [
          'Albatross',
          'Flamingo',
          'Ostrich'
        ],
        answer: 'Albatross'
      },
      {
        text: 'What are female elephants called?',
        options: [
          'Female Elephant',
          'Cow',
          'Heifer'
        ],
        answer: 'Cow'
      },
      {
        text: "How do shark avoid orcas?",
        options: [
          'They Fight Them',
          'They Swim Faster',
          'They Swim Closer to the Ocean Floor'
        ],
        answer: 'They Swim Closer to the Ocean Floor'
      },
      {
        text: "What is the collective noun for a group of crows?",
        options: [
          'Murder',
          'Flock',
          'Necrosis'
        ],
        answer: 'Murder'
      },
      {
        text: "Which animal has the highest blood pressure?",
        options: [
          'Blue Whale',
          'Giraffe',
          'Camel'
        ],
        answer: 'Murder'
      },
      {
        text: "What is the smallest mammal in the world?",
        options: [
          'Western Harvest Mouse',
          'Bumblebee Bat',
          'Pygmy Marmoset'
        ],
        answer: 'Bumblebee Bat'
      },

    ]
  },
  food:{
    easy:[
      {
        text: 'Which of these is the most popular topping on pizza?',
        options: [
          'Apple Slices',
          'Pepperoni',
          'Noodles'
        ],
        answer: 'Pepperoni'
      },
      {
        text: 'What food is used as the base for guacamole?',
        options: [
          'Avocado',
          'Cherries',
          'Broccoli'
        ],
        answer: 'Avocado'
      },
      {
        text: 'What do herbivores eat?',
        options: [
          'Only Meat',
          'Only Vegetables',
          'Both Vegetables and Meat'
        ],
        answer: 'Only Vegetables'
      },
      {
        text: "What do most kids eat to celebrate their birthday?",
        options: [
          'Pie',
          'Cookies',
          'Cake'
        ],
        answer: 'Cake'
      },
      {
        text: "What is the most common meat used in hamburgers?",
        options: [
          'Chicken',
          'Beef',
          'Pork'
        ],
        answer: 'Beef'
      },
      {
        text: "Which of these fruits has inedible seeds?",
        options: [
          'Apple',
          'Strawberries',
          'Pitaya'
        ],
        answer: 'Apple'
      },
      {
        text: "Which of these is a vegetable?",
        options: [
          'Tomato',
          'Rhubard',
          'Asparagus'
        ],
        answer: 'Asparagus'
      }
    ],
    medium:[
      {
        text: 'What is sushi traditionally wrapped with?',
        options: [
          'Seaweed',
          'Cabbage',
          'Spinach'
        ],
        answer: 'Seaweed'
      },
      {
        text: 'What ingredient causes bread to rise?',
        options: [
          'Flour',
          'Butter',
          'Yeast'
        ],
        answer: 'Yeast'
      },
      {
        text: 'Foods rich in starch are know by what name?(Hint: Pasta and Bread)',
        options: [
          'Herbs',
          'Carbohydrates',
          'Calories'
        ],
        answer: 'Carbohydrates'
      },
      {
        text: 'Which of these is the best source for calcium?',
        options: [
          'Yogurt',
          'Chicken',
          'Blueberries'
        ],
        answer: 'Yogurt'
      },
      {
        text: "Which of these is NOT a real Ben & Jerry's ice cream flavor?",
        options: [
          'Chocolate Therapy',
          'Mint Chocolate Chunk',
          'Salted Caramel'
        ],
        answer: 'Salted Caramel'
      },
      {
        text: "Which type of pastry is boiled before it is baked?",
        options: [
          'Studel',
          'Bagel',
          'Croissant'
        ],
        answer: 'Bagel'
      },
      {
        text: "Monterey Jack is a type of what?",
        options: [
          'Cheese',
          'Vegetable',
          'Starch'
        ],
        answer: 'Asparagus'
      }

],
    hard:[
      {
        text: 'When was the blue M&M introduced?',
        options: [
          '1985',
          '1995',
          '1999'
        ],
        answer: '1995'
      },
      {
        text: 'Which fast food restaurant was literally founded in a broom closet?',
        options: [
          "Papa John's",
          'Taco Bell',
          "Wendy's"
        ],
        answer: "Papa John's"
      },
      {
        text: "'Beefsteak' is a variety of what?",
        options: [
          'Turkey',
          'Cow Meat',
          'Tomato'
        ],
        answer: 'Tomato'
      },
      {
        text: 'What is the the only edible food that is said to never spoil?',
        options: [
          'Salt',
          'Honey',
          'Rice'
        ],
        answer: 'Honey'
      },
      {
        text: 'What is the top-selling cookie in the United States of America?',
        options: [
          'Oreos',
          'Chips Ahoy!',
          'Milano'
        ],
        answer: 'Oreos'
      },
      {
        text: "What is Gari?",
        options: [
          'Rice',
          'Cassava',
          'Asparagus'
        ],
        answer: 'Asparagus'
      },
      {
        text: "What is the spiciest pepper in the worol according to the Guinness World Record?",
        options: [
          'Jalapeno',
          'Cayenne',
          'Carolina Reaper'
        ],
        answer: 'Carolina Reaper'
      }
    ]
  },
  movies:{
    easy:[
      {
        text: 'Who is the main mermaid in <em>"The Little Mermaid"</em>?',
        options: [
          'Aria',
          'Ariel',
          'Merida'
        ],
        answer: 'Ariel'
      },
      {
        text: 'In <em>Cinderella</em>, what did the fairy godmother turn into a carriage?',
        options: [
          'Pumpkin',
          'Watermelon',
          'Cantaloupe'
        ],
        answer: 'Pumpkin'
      },
      {
        text: "What did Maleficent turn in to in Disney's animated film, <em>Sleeping Beauty</em>?",
        options: [
          'Lizard',
          'Dragon',
          'Lion'
        ],
        answer: 'Dragon'
      },
      {
        text: 'Which movie features Cruella de Vil as the villain?',
        options: [
          'Sleeping Beauty',
          'Cinderella',
          '101 Dalmatians'
        ],
        answer: '101 Dalmatians'
      },
      {
        text: "What is the name of Bambi's rabbit friend?",
        options: [
          'Drummer',
          'Thumper',
          'Bumper'
        ],
        answer: 'Thumper'
      },
      {
        text: "Which of these is a vegetable?",
        options: [
          'Tomato',
          'Rhubard',
          'Asparagus'
        ],
        answer: 'Asparagus'
      }
  ],
    medium:[
      {
        text: "Who is one of the good fairies in Disney's animated film, <em>Sleeping Beauty</em>?",
        options: [
          'Fiora',
          'Fleur',
          'Flora'
        ],
        answer: 'Flora'
      },
      {
        text: "What is the prince's name in <em>Snow White and the Seven Dwarves</em>?",
        options: [
          'Prince Charming',
          'Prince Florian',
          'Prince Philip'
        ],
        answer: 'Prince Florian'
      },
      {
        text: 'What movie are the characters Phoebus and Eseralda from?',
        options: [
          'The Hunchback of Notre Dame',
          'The Black Cauldron',
          'Alice in Wonderland'
        ],
        answer: 'The Hunchback of Notre Dame'
      },
      {
        text: 'In Peter Pan, does Captain Hook have his hook on his left hand or right hand?',
        options: [
          'Right',
          'Left',
          "He doesn't have a hook"
        ],
        answer: 'Left'
      },
      {
        text: "What is the name of Donald Duck's sister?",
        options: [
          'Daniella',
          'Donella',
          'Dumbella'
        ],
        answer: 'Dumbella'
      },
      {
        text: "What is the name of one of the eels who are Ursula’s sidekicks?",
        options: [
          'Flotsam',
          'Bones',
          'Ripper'
        ],
        answer: 'Flotsam'
      },
      {
        text: "What is the name of Mulan’s horse?",
        options: [
          'Hank',
          'Frank',
          'Khan'
        ],
        answer: 'Flotsam'
      }
  ],
    hard:[
      {
        text: 'What is the only Disney song to win a Grammy Award for Song of the Year?',
        options: [
          'A Whole New World',
          'Under the Sea',
          "I Can't Wait to be King"
        ],
        answer: 'A Whole New World'
      },
      {
        text: 'Which Disney movie was the first to have a soundtrack album?',
        options: [
          'The Little Mermaid',
          'Pocahontas',
          'Snow White and the Seven Dwarves'
        ],
        answer: 'Snow White and the Seven Dwarves'
      },
      {
        text: "What is the name of the only female chef at Gusteau's restaurant in the film <em>Ratatouille</em>?",
        options: [
          'Camille',
          'Colette',
          'Carly'
        ],
        answer: 'Colette'
      },
      {
             text: 'What country was Nemo taken to in <em>Finding Nemo</em>?',
        options: [
          'America',
          'England',
          'Australia'
        ],
        answer: 'Australia'
      },
      {
        text: "What is Alice's cat's name in <em>Alice in Wonderland</em>?",
        options: [
          'Bella',
          'Dinah',
          'Claire'
        ],
        answer: 'Dinah'
      },
      {
        text: "Who is Pinocchio's buddy in Pinocchio?",
        options: [
          'Jiminy Cricket',
          'Hank Beetle',
          'Jerry Roach'
        ],
        answer: 'Dinah'
      },
      {
        text: "Who is Ariel's dad?",
        options: [
          'Poseidon',
          'King Triten',
          'Nereus'
        ],
        answer: 'Dinah'
      }


    ]

  }
};

var overlay = document.getElementById('overlay');
var settingsForm = document.getElementById('settings');
var game = document.getElementById('game');

settingsForm.addEventListener('submit', function(event) {
  event.preventDefault();
  var animal = document.getElementById('animal');
  var food = document.getElementById('food');
  var movies = document.getElementById('movies');
  var easy = document.getElementById('easy');
  var medium = document.getElementById('medium');
  var hard = document.getElementById('hard');
  var category = '';
  var difficulty = '';

  if(animal.checked) {
    category = 'animal';
  } else if(food.checked){
    category = "food";
  } else if(movies.checked){
    category = "movies";
  }

  if(easy.checked) {
    difficulty = 'easy';
  } else if(medium.checked){
    difficulty = "medium";
  } else if(hard.checked){
    difficulty = "hard";
  }

  overlay.style.display = "none";

  // start the game
  startGame(category, difficulty);

});
// question.animal
// question[category]
function startGame(category, difficulty) {

  function placeModal(content) {
    console.log(questionIndex, questionBank.length);
    var body = document.querySelector('body');
    var modal = document.createElement('div');
    modal.className = 'modal';
    var modalContent = `
      <div class="modal-content">
        <h4>${content}</h4>
        <button>Continue</button>
      </div>`;
    modal.innerHTML = modalContent;
    modal.querySelector('button').addEventListener('click', function() {
      body.removeChild(modal);
      if(questionIndex == questionBank.length){
        overlay.style.display = "";
      }
    });
    body.insertBefore( modal, body.children[0])
  }


  var label = document.querySelector('.question-label');
  var text = document.querySelector('.question-text');
  var answers = document.querySelectorAll('.answer');

  // returns an array of questions
  function generateQuestionOrder(category, difficulty) {

    function shuffle(array) {
      var currentIndex = array.length, temporaryValue, randomIndex;

      // While there remain elements to shuffle...
      while (0 !== currentIndex) {

        // Pick a remaining element...
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        // And swap it with the current element.
        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
      }

      return array;
    }

    var array = questions[category][difficulty];

    // return array
    return shuffle(array);
  }

  function nextQuestion(questionIndex) {
    var question = questionBank[questionIndex];
    label.textContent = questionIndex + 1;
    text.innerHTML = question.text;
    for(var i = 0; i < question.options.length; i++) {
      answers[i].textContent = question.options[i];
    }
  }

  var questionBank = generateQuestionOrder(category, difficulty);
  var questionIndex = 0;
  nextQuestion(questionIndex);

  game.addEventListener('click', function(e){
    if(e.target.tagName == 'BUTTON') {
      // check whether right or wrong
      var answer = questionBank[questionIndex].answer;
      var guess = e.target.textContent
      if(answer == guess){
        // TODO: tell use they got it right
        placeModal("You're right!");
      } else {
        // TODO: tell user they got it wrong
        placeModal("Incorrect: " + answer);
      }
          }
      //go back to home page on last question of array
      questionIndex++;
      if(questionIndex < questionBank.length){
        nextQuestion(questionIndex);
      } else {
        // out of questions
        // console.log('end of questions');
        // overlay.style.display = "";
      }
  });
} // end startGame()
